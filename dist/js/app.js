/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";var e,t={596:(e,t,n)=>{var o=n(503),d=n(571),i=n(956);const a=document.getElementById("todos-wrapper"),s=document.getElementById("neue-todo-button"),l=document.getElementById("submit-todo-button"),r=()=>document.getElementById("todo-title-input"),c=()=>document.getElementById("todo-ordner-input"),u=()=>document.getElementById("todo-tag-input"),m=()=>document.getElementById("todo-notizen-input"),g=()=>document.getElementById("todo-endDatum-input"),p=()=>document.getElementById("end-datum-switch");var v,f,h,b;function w(e){console.log(p()),0==p().checked&&p().setAttribute("checked","true"),1==p().checked&&p().removeAttribute("checked"),function(e){const t=()=>document.getElementById("todo-endDatum-input");0==e().checked&&t().removeAttribute("disabled"),1==e().checked&&t().setAttribute("disabled","disabled")}(p)}function k(e){return document.querySelector(`[data-todo-id="${e}"]`)}function y(e){return $.find((t=>t.id==e))}f=(v=new Date).getDate(),h=v.getMonth()+1,b=v.getFullYear(),f<10&&(f="0"+f),h<10&&(h="0"+h),v=b+"-"+h+"-"+f,document.getElementById("todo-endDatum-input").setAttribute("min",v),document.getElementById("end-datum-switch-label").addEventListener("click",w);class E{constructor(e,t,n,o,d,i,a,s,l){this.id=e,this.title=t,this.ordner=n,this.tag=o,this.notizen=d,this.endDatum=i,this.endDatumSwitch=a,this.endDatumDisabled=s,this.isCompleted=l}theToDoId(){return this.id}}function L(){var e;console.log("To Do Array, just before new todo sending",$),D(),e=D,$.push(e()),O($)}function D(){return new E(Date.now(),r().value,c().value,u().value,m().value,g().value,p().checked,g().disabled,!1)}let x=function(e){var t;console.log("This todo lautet",e),r().value=e.title,c().value=e.ordner,u().value=e.tag,m().value=e.notizen,g().value=e.endDatum,p().checked=e.endDatumSwitch,g().disabled=e.endDatumDisabled,t=e.id,document.getElementById("submit-todo-button").setAttribute("data-edit-fertig-btn-todo-id",t)};function B(e){const t=y(e.target.getAttribute("data-edit-fertig-btn-todo-id"));t.title=r().value,t.ordner=c().value,t.tag=u().value,t.notizen=m().value,t.endDatum=g().value,t.endDatumSwitch=p().checked,t.endDatumDisabled=g().disabled,document.getElementById("submit-todo-button").removeAttribute("data-edit-fertig-btn-todo-id")}function I(e){k(e.id).classList.toggle("half-opacity"),function(e){k(e.id).querySelector(`[data-todo-check-btn-id="${e.id}"]`).classList.toggle("bg-success")}(e)}function A(e){return`<div class="card p-10 m-0 my-15" data-todo-id="${e.id}">\n        <div class="card-inhalt d-flex flex-column mx-10">\n          <div class="dinge-kopf d-flex align-items-center">\n            <div class="dinge-kopf-links d-flex align-items-center">\n              <button class="check-button btn btn-rounded mr-lg-20 mr-sm-10" data-todo-check-btn-id="${e.id}"></button>\n            </div>\n            <div class="dinge-kopf-rechts d-flex flex-column">\n              <div class="dinge-kopf-rechts-oben">\n                <span class="card-title">\n                  ${e.title}\n                </span>\n              </div>\n              <div class="dinge-kopf-rechts-unten d-flex align-items-center">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#696969" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                  <circle cx="12" cy="12" r="10"></circle>\n                  <polyline points="12 6 12 12 16 14"></polyline>\n                </svg>\n                <div class="zeit-punkt">\n                  <span class="zeit-punkt-datum ml-5">${e.endDatum}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- Toggle d-none onclick --\x3e\n          <div class="dinge-koerper mt-10 d-none" data-koerper-id="${e.id}">\n            <p>\n              ${e.notizen}\n            </p>\n          </div>\n          \x3c!-- Change Class d-none to d-flex --\x3e\n          <div class="dinge-fuss d-none justify-content-between" data-fuss-id="${e.id}">\n            <div class="dinge-fuss-links m-5">\n              <span class="dinge-erstelltungs-datum text-muted font-size-12">Erstellt: 12.10.2021 12:21</span>\n            </div>\n            <div class="dinge-fuss-mitte m-5">\n              <span class="badge badge-pill">/ ${e.ordner}</span>\n            </div>\n            <div class="dinge-fuss-rechts m-5">\n              <div class="ding-buttons">\n                <div class="btn-group" role="group" aria-label="Basic example">\n                  <a href="#" class="btn" onclick="halfmoon.toggleModal('modal-todo')" data-todo-edit-btn="${e.id}">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0000ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                      <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path>\n                      <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>\n                    </svg>\n                  </a>\n                  <a href="#" class="btn" data-todo-del-btn="${e.id}">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ff0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                      <polyline points="3 6 5 6 21 6"></polyline>\n                      <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n                      <line x1="10" y1="11" x2="10" y2="17"></line>\n                      <line x1="14" y1="11" x2="14" y2="17"></line>\n                    </svg>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`}function j(e){console.log("PrintToDos Running...",e),a.innerHTML='\n  <div id="uncompleted-wrapper">\n  </div>\n  <div id="completed-wrapper">\n    <h3 id="completed-title" class="font-size-16 mt-20">Erledigte Aufgaben</h3>\n  </div>\n  ',e.forEach((e=>{var t,n;console.log("Todo title in print.js",e.title),(n=e).isCompleted||document.getElementById("uncompleted-wrapper").insertAdjacentHTML("afterbegin",A(n)),function(e){e.isCompleted&&document.getElementById("completed-title").insertAdjacentHTML("afterend",A(e))}(e),function(e,t){t.style.setProperty("--transparent",`var(--${e})`)}(e.tag,k(e.id)),k(e.id),e.id,k(t=e.id).addEventListener("click",(()=>{document.querySelector(`[data-koerper-id="${t}"]`).classList.toggle("d-none");const e=document.querySelector(`[data-fuss-id="${t}"]`);e.classList.contains("d-none")?(e.classList.remove("d-none"),e.classList.add("d-flex")):(e.classList.remove("d-flex"),e.classList.add("d-none"))})),function(e){document.querySelector(`[data-todo-del-btn="${e}"]`).addEventListener("click",(()=>{var t;event.stopImmediatePropagation(),(t=e).parentNode.removeChild(t),function(e){$.splice(indexOf($.forEach((t=>t.id==e))),1),O($)}(e)}))}(k(e.id),e.id),document.querySelectorAll(".check-button").forEach((e=>e.addEventListener("click",(()=>{event.stopImmediatePropagation();const t=y(e.getAttribute("data-todo-check-btn-id"));!function(e){e.isCompleted?e.isCompleted=!1:e.isCompleted=!0}(t),I(t),j($)})))),e.isCompleted&&I(e)})),function(){const e=document.querySelectorAll("[data-todo-edit-btn]");console.log("Editing buttons"),e.forEach((e=>{e.addEventListener("click",(()=>{event.stopImmediatePropagation();const t=y(e.getAttribute("data-todo-edit-btn"));console.log("Setting edit buttons..."),l.removeEventListener("click",L),l.addEventListener("click",B),w(),x(t)}))}))}()}"/app.html"==window.location.pathname&&s.addEventListener("click",(()=>{r().value="",c().value="andere",u().value="keine",m().value="",g().value="",p().checked=null,g().disabled="disabled",l.removeEventListener("click",B),l.addEventListener("click",L)}));const S=(0,i.N8)();let $=[];function O(e){e.forEach((e=>(0,i.t8)((0,i.iH)(S,"users/"+C+"/toDos/"+e.id),{id:e.id,title:e.title,ordner:e.ordner,tag:e.tag,notizen:e.notizen,endDatum:e.endDatum,endDatumSwitch:e.endDatumSwitch,endDatumDisabled:e.endDatumDisabled}))),z(C)}function z(e){const t=(0,i.iH)(S,"users/"+e+"/toDos/");(0,i.jM)(t,(e=>{const t=e.val();$=Object.values(t),console.log("toDoArray in getDB",$),j($)}))}let C,T=e=>{1==e&&"/app.html"!=window.location.pathname&&(window.location.href="/app.html"),0==e&&"/app.html"==window.location.pathname&&(window.location.href="/")};(0,o.ZF)({apiKey:"AIzaSyBWp41s9PnNHuexO5Y3T3K6BJXnSevLCw8",authDomain:"zu-tun.firebaseapp.com",projectId:"zu-tun",storageBucket:"zu-tun.appspot.com",messagingSenderId:"940841077166",appId:"1:940841077166:web:ca672cd3939ac29a6f603f",measurementId:"G-WXB452VH5K",databaseURL:"https://zu-tun-default-rtdb.europe-west1.firebasedatabase.app/"}),new d.hJ;const H=(0,d.v0)();function M(){(0,d.w7)(H).then((()=>{T(!1),console.log("Sign-out successful. Bye 👋🏻")})).catch((e=>{console.log(e)}))}function q(){const e=document.getElementById("todo-ordner-input");N.forEach((t=>{e.insertAdjacentHTML("beforeend",`\n      <option value="${t.name}">${t.name}</option>\n    `)}))}(0,d.Aj)(H,(e=>{e?(T(!0),console.log(e.uid,"in now in!"),C=e.uid,function(e){console.log("User on changeFrontOnLogin:",e.displayName),"/app.html"==window.location.pathname&&(console.log("Location:",document.location),document.getElementById("navbar-user-name").innerText=e.displayName,document.getElementById("navbar-user-abmelden").addEventListener("click",M))}(e),z(C)):(T(!1),console.log("No one is here!"))}));let N=JSON.parse(localStorage.getItem("ordners"))||[];q(),document.getElementById("add-ornder-form-senden-btn").addEventListener("click",(function(){let e=()=>document.getElementById("form-add-ordner-name");console.log("New Ordner:",e().value),function(e){const t=new P(e,Date.now());N.push(t),console.log("New ordner obj",t),console.log(N)}(e().value),V(),e().value="",q()}));class P{constructor(e,t){this.name=e,this.id=t}}function V(){const e=document.getElementById("custom-ordners");e.innerHTML="",N.forEach((t=>{e.insertAdjacentHTML("beforeend",`<a href="#" data-sidebar-ordner="${t.name.toLowerCase()}" class="sidebar-link sidebar-ordner">${t.name}</a>`)}))}function F(e){const t=e.target.getAttribute("data-tag-color");console.log(t,"is just clicked");const n=()=>{let e;for(let n in $)n[tag]==t&&(e=t);return e};console.log("Listing",n(),"colored item"),j(n())}function _(e){const t=e.target.getAttribute("data-sidebar-ordner");function n(){return $.filter((e=>e.ordner.toLowerCase()==t.toLowerCase()))}console.log("Listing",n(),"ordnered item"),j(n())}V(),document.querySelectorAll(".sidebar-farbe").forEach((e=>e.addEventListener("click",F))),document.querySelectorAll(".sidebar-ordner").forEach((e=>e.addEventListener("click",_)))}},n={};function o(e){var d=n[e];if(void 0!==d)return d.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,d,i)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,d,i]=e[c],s=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var r=d();void 0!==r&&(t=r)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,d,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={143:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var d,i,[a,s,l]=n,r=0;if(a.some((t=>0!==e[t]))){for(d in s)o.o(s,d)&&(o.m[d]=s[d]);if(l)var c=l(o)}for(t&&t(n);r<a.length;r++)i=a[r],o.o(e,i)&&e[i]&&e[i][0](),e[a[r]]=0;return o.O(c)},n=self.webpackChunkjs_todo_app=self.webpackChunkjs_todo_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var d=o.O(void 0,[356,571],(()=>o(596)));d=o.O(d)})();