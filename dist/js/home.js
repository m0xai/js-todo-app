(()=>{"use strict";var e,t={354:(e,t,n)=>{var o=n(876),d=n(503),i=n(571),a=n(956);const l=document.getElementById("todos-wrapper"),s=document.getElementById("neue-todo-button"),c=document.getElementById("submit-todo-button"),r=()=>document.getElementById("todo-title-input"),u=()=>document.getElementById("todo-ordner-input"),m=()=>document.getElementById("todo-tag-input"),p=()=>document.getElementById("todo-notizen-input"),g=()=>document.getElementById("todo-endDatum-input"),v=()=>document.getElementById("end-datum-switch");var h,f,b,w;function k(e){console.log(v()),0==v().checked&&v().setAttribute("checked","true"),1==v().checked&&v().removeAttribute("checked"),function(e){const t=()=>document.getElementById("todo-endDatum-input");0==e().checked&&t().removeAttribute("disabled"),1==e().checked&&t().setAttribute("disabled","disabled")}(v)}function y(e){return document.querySelector(`[data-todo-id="${e}"]`)}function E(e){return z.find((t=>t.id==e))}f=(h=new Date).getDate(),b=h.getMonth()+1,w=h.getFullYear(),f<10&&(f="0"+f),b<10&&(b="0"+b),h=w+"-"+b+"-"+f,document.getElementById("todo-endDatum-input").setAttribute("min",h),document.getElementById("end-datum-switch-label").addEventListener("click",k);class x{constructor(e,t,n,o,d,i,a,l,s){this.id=e,this.title=t,this.ordner=n,this.tag=o,this.notizen=d,this.endDatum=i,this.endDatumSwitch=a,this.endDatumDisabled=l,this.isCompleted=s}theToDoId(){return this.id}}function D(){var e;console.log("To Do Array, just before new todo sending",z),B(),e=B,z.push(e()),O(z)}function B(){return new x(Date.now(),r().value,u().value,m().value,p().value,g().value,v().checked,g().disabled,!1)}let I=function(e){var t;console.log("This todo lautet",e),r().value=e.title,u().value=e.ordner,m().value=e.tag,p().value=e.notizen,g().value=e.endDatum,v().checked=e.endDatumSwitch,g().disabled=e.endDatumDisabled,t=e.id,document.getElementById("submit-todo-button").setAttribute("data-edit-fertig-btn-todo-id",t)};function L(e){const t=E(e.target.getAttribute("data-edit-fertig-btn-todo-id"));t.title=r().value,t.ordner=u().value,t.tag=m().value,t.notizen=p().value,t.endDatum=g().value,t.endDatumSwitch=v().checked,t.endDatumDisabled=g().disabled,document.getElementById("submit-todo-button").removeAttribute("data-edit-fertig-btn-todo-id")}function j(e){y(e.id).classList.toggle("half-opacity"),function(e){y(e.id).querySelector(`[data-todo-check-btn-id="${e.id}"]`).classList.toggle("bg-success")}(e)}function S(e){return`<div class="card p-10 m-0 my-15" data-todo-id="${e.id}">\n        <div class="card-inhalt d-flex flex-column mx-10">\n          <div class="dinge-kopf d-flex align-items-center">\n            <div class="dinge-kopf-links d-flex align-items-center">\n              <button class="check-button btn btn-rounded mr-lg-20 mr-sm-10" data-todo-check-btn-id="${e.id}"></button>\n            </div>\n            <div class="dinge-kopf-rechts d-flex flex-column">\n              <div class="dinge-kopf-rechts-oben">\n                <span class="card-title">\n                  ${e.title}\n                </span>\n              </div>\n              <div class="dinge-kopf-rechts-unten d-flex align-items-center">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#696969" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                  <circle cx="12" cy="12" r="10"></circle>\n                  <polyline points="12 6 12 12 16 14"></polyline>\n                </svg>\n                <div class="zeit-punkt">\n                  <span class="zeit-punkt-datum ml-5">${e.endDatum}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \x3c!-- Toggle d-none onclick --\x3e\n          <div class="dinge-koerper mt-10 d-none" data-koerper-id="${e.id}">\n            <p>\n              ${e.notizen}\n            </p>\n          </div>\n          \x3c!-- Change Class d-none to d-flex --\x3e\n          <div class="dinge-fuss d-none justify-content-between" data-fuss-id="${e.id}">\n            <div class="dinge-fuss-links m-5">\n              <span class="dinge-erstelltungs-datum text-muted font-size-12">Erstellt: 12.10.2021 12:21</span>\n            </div>\n            <div class="dinge-fuss-mitte m-5">\n              <span class="badge badge-pill">/ ${e.ordner}</span>\n            </div>\n            <div class="dinge-fuss-rechts m-5">\n              <div class="ding-buttons">\n                <div class="btn-group" role="group" aria-label="Basic example">\n                  <a href="#" class="btn" onclick="halfmoon.toggleModal('modal-todo')" data-todo-edit-btn="${e.id}">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0000ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                      <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path>\n                      <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>\n                    </svg>\n                  </a>\n                  <a href="#" class="btn" data-todo-del-btn="${e.id}">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ff0000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                      <polyline points="3 6 5 6 21 6"></polyline>\n                      <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n                      <line x1="10" y1="11" x2="10" y2="17"></line>\n                      <line x1="14" y1="11" x2="14" y2="17"></line>\n                    </svg>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>`}function A(e){console.log("PrintToDos Running...",e),l.innerHTML='\n  <div id="uncompleted-wrapper">\n  </div>\n  <div id="completed-wrapper">\n    <h3 id="completed-title" class="font-size-16 mt-20">Erledigte Aufgaben</h3>\n  </div>\n  ',e.forEach((e=>{var t,n,o;console.log("Todo title in print.js",e.title),(o=e).isCompleted||document.getElementById("uncompleted-wrapper").insertAdjacentHTML("afterbegin",S(o)),function(e){e.isCompleted&&document.getElementById("completed-title").insertAdjacentHTML("afterend",S(e))}(e),t=e.tag,y(e.id).style.setProperty("--transparent",`var(--${t})`),y(e.id),e.id,y(n=e.id).addEventListener("click",(()=>{document.querySelector(`[data-koerper-id="${n}"]`).classList.toggle("d-none");const e=document.querySelector(`[data-fuss-id="${n}"]`);e.classList.contains("d-none")?(e.classList.remove("d-none"),e.classList.add("d-flex")):(e.classList.remove("d-flex"),e.classList.add("d-none"))})),function(e){document.querySelector(`[data-todo-del-btn="${e}"]`).addEventListener("click",(()=>{var t;event.stopImmediatePropagation(),(t=e).parentNode.removeChild(t),function(e){z.splice(indexOf(z.forEach((t=>t.id==e))),1),O(z)}(e)}))}(y(e.id),e.id),document.querySelectorAll(".check-button").forEach((e=>e.addEventListener("click",(()=>{event.stopImmediatePropagation();const t=E(e.getAttribute("data-todo-check-btn-id"));!function(e){e.isCompleted?e.isCompleted=!1:e.isCompleted=!0}(t),j(t),A(z)})))),e.isCompleted&&j(e)})),function(){const e=document.querySelectorAll("[data-todo-edit-btn]");console.log("Editing buttons"),e.forEach((e=>{e.addEventListener("click",(()=>{event.stopImmediatePropagation();const t=E(e.getAttribute("data-todo-edit-btn"));console.log("Setting edit buttons..."),c.removeEventListener("click",D),c.addEventListener("click",L),k(),I(t)}))}))}()}"/app.html"==window.location.pathname&&s.addEventListener("click",(()=>{r().value="",u().value="andere",m().value="keine",p().value="",g().value="",v().checked=null,g().disabled="disabled",c.removeEventListener("click",L),c.addEventListener("click",D)}));const $=(0,a.N8)();let z=[];function O(e){e.forEach((e=>(0,a.t8)((0,a.iH)($,"users/"+C+"/toDos/"+e.id),{id:e.id,title:e.title,ordner:e.ordner,tag:e.tag,notizen:e.notizen,endDatum:e.endDatum,endDatumSwitch:e.endDatumSwitch,endDatumDisabled:e.endDatumDisabled}))),T(C)}function T(e){const t=(0,a.iH)($,"users/"+e+"/toDos/");(0,a.jM)(t,(e=>{const t=e.val();z=Object.values(t),console.log("toDoArray in getDB",z),A(z)}))}let C,H=e=>{1==e&&"/app.html"!=window.location.pathname&&(window.location.href="/app.html"),0==e&&"/app.html"==window.location.pathname&&(window.location.href="/")};(0,d.ZF)({apiKey:"AIzaSyBWp41s9PnNHuexO5Y3T3K6BJXnSevLCw8",authDomain:"zu-tun.firebaseapp.com",projectId:"zu-tun",storageBucket:"zu-tun.appspot.com",messagingSenderId:"940841077166",appId:"1:940841077166:web:ca672cd3939ac29a6f603f",measurementId:"G-WXB452VH5K",databaseURL:"https://zu-tun-default-rtdb.europe-west1.firebasedatabase.app/"});const P=new i.hJ,M=(0,i.v0)();function q(){(0,i.w7)(M).then((()=>{H(!1),console.log("Sign-out successful. Bye 👋🏻")})).catch((e=>{console.log(e)}))}(0,i.Aj)(M,(e=>{e?(H(!0),console.log(e.uid,"in now in!"),C=e.uid,function(e){console.log("User on changeFrontOnLogin:",e.displayName),"/app.html"==window.location.pathname&&(console.log("Location:",document.location),document.getElementById("navbar-user-name").innerText=e.displayName,document.getElementById("navbar-user-abmelden").addEventListener("click",q))}(e),T(C)):(H(!1),console.log("No one is here!"))}));const N=document.getElementById("jumbo-image-wrapper"),F=new Image;F.src=o,F.alt="To Do App Screen Shot",F.loading="lazy",F.classList.add("img-fluid"),N.appendChild(F),document.getElementById("loslegen-button").addEventListener("click",(()=>{(0,i.F6)(M,P).then((e=>{e.user})).catch((e=>{const t=e.code,n=e.message;console.log("Error code: ",t),console.log("Error message: ",n)}))})),console.log("Hello World")},876:(e,t,n)=>{e.exports=n.p+"40e12739d8a06694d04d.jpg"}},n={};function o(e){var d=n[e];if(void 0!==d)return d.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,d,i)=>{if(!n){var a=1/0;for(r=0;r<e.length;r++){for(var[n,d,i]=e[r],l=!0,s=0;s<n.length;s++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(r--,1);var c=d();void 0!==c&&(t=c)}}return t}i=i||0;for(var r=e.length;r>0&&e[r-1][2]>i;r--)e[r]=e[r-1];e[r]=[n,d,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e+"../"})(),(()=>{var e={177:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var d,i,[a,l,s]=n,c=0;if(a.some((t=>0!==e[t]))){for(d in l)o.o(l,d)&&(o.m[d]=l[d]);if(s)var r=s(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return o.O(r)},n=self.webpackChunkjs_todo_app=self.webpackChunkjs_todo_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var d=o.O(void 0,[356,522],(()=>o(354)));d=o.O(d)})();